import{_ as e,c as p,b as r,a,d as l,e as t,r as i,o}from"./app-CHYapVbF.js";const c={},d={href:"https://gofrp.org/zh-cn/docs/examples/ssh/",target:"_blank",rel:"noopener noreferrer"};function u(h,s){const n=i("ExternalLinkIcon");return o(),p("div",null,[s[1]||(s[1]=r(`<p>通过简单配置 TCP 类型的代理，使用户能够访问内网服务器。详细步骤如下：</p><h2 id="_1-在具有公网-ip-的机器上部署-frps" tabindex="-1"><a class="header-anchor" href="#_1-在具有公网-ip-的机器上部署-frps"><span>1.在具有公网 IP 的机器上部署 frps</span></a></h2><p>部署 frps 并编辑 frps.toml 文件。以下是简化的配置，其中设置了 frp 服务器用于接收客户端连接的端口：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">bindPort <span class="token operator">=</span> <span class="token number">7000</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-在需要被访问的内网机器上部署-frpc" tabindex="-1"><a class="header-anchor" href="#_2-在需要被访问的内网机器上部署-frpc"><span>2.在需要被访问的内网机器上部署 frpc</span></a></h2><p>部署 frpc 并编辑 frpc.toml 文件，假设 frps 所在服务器的公网 IP 地址为 x.x.x.x。以下是示例配置：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">serverAddr <span class="token operator">=</span> <span class="token string">&quot;x.x.x.x&quot;</span></span>
<span class="line">serverPort <span class="token operator">=</span> <span class="token number">7000</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span><span class="token punctuation">[</span>proxies<span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">name <span class="token operator">=</span> <span class="token string">&quot;ssh&quot;</span></span>
<span class="line"><span class="token builtin class-name">type</span> <span class="token operator">=</span> <span class="token string">&quot;tcp&quot;</span></span>
<span class="line">localIP <span class="token operator">=</span> <span class="token string">&quot;127.0.0.1&quot;</span></span>
<span class="line">localPort <span class="token operator">=</span> <span class="token number">22</span></span>
<span class="line">remotePort <span class="token operator">=</span> <span class="token number">6000</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>localIP 和 localPort 配置为需要从公网访问的内网服务的地址和端口。</li><li>remotePort 表示在 frp 服务端监听的端口，访问此端口的流量将被转发到本地服务的相应端口。</li></ul><h2 id="_3-启动-frps-和-frpc" tabindex="-1"><a class="header-anchor" href="#_3-启动-frps-和-frpc"><span>3.启动 frps 和 frpc</span></a></h2><h2 id="_4-通过-ssh-访问内网机器" tabindex="-1"><a class="header-anchor" href="#_4-通过-ssh-访问内网机器"><span>4.通过 SSH 访问内网机器</span></a></h2><p>使用以下命令通过 SSH 访问内网机器，假设用户名为 test：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ssh</span> <span class="token parameter variable">-o</span> <span class="token assign-left variable">Port</span><span class="token operator">=</span><span class="token number">6000</span> test@x.x.x.x</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>frp 将请求发送到 x.x.x.x:6000 的流量转发到内网机器的 22 端口。</p>`,13)),a("p",null,[a("a",d,[s[0]||(s[0]=l("原文链接")),t(n)])])])}const m=e(c,[["render",u],["__file","exp_ssh.html.vue"]]),v=JSON.parse('{"path":"/blogs/frp/gofrp/exp_ssh.html","title":"Frp 通过 SSH 访问内网机器","lang":"en-US","frontmatter":{"title":"Frp 通过 SSH 访问内网机器","date":"2025/3/15","tags":["gofrp"],"categories":["frp","gofrp"]},"headers":[{"level":2,"title":"1.在具有公网 IP 的机器上部署 frps","slug":"_1-在具有公网-ip-的机器上部署-frps","link":"#_1-在具有公网-ip-的机器上部署-frps","children":[]},{"level":2,"title":"2.在需要被访问的内网机器上部署 frpc","slug":"_2-在需要被访问的内网机器上部署-frpc","link":"#_2-在需要被访问的内网机器上部署-frpc","children":[]},{"level":2,"title":"3.启动 frps 和 frpc","slug":"_3-启动-frps-和-frpc","link":"#_3-启动-frps-和-frpc","children":[]},{"level":2,"title":"4.通过 SSH 访问内网机器","slug":"_4-通过-ssh-访问内网机器","link":"#_4-通过-ssh-访问内网机器","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"filePathRelative":"blogs/frp/gofrp/exp_ssh.md"}');export{m as comp,v as data};
